; kernel.s
[BITS 16]
[ORG 0]

mov ax, cs
mov ds, ax
mov es, ax

mov ax, 0x8000
mov ss, ax
mov sp, 0xf000
jmp start
msg1 db 'Hola', 0
videopage db 0

%include "function.s"



start:
	mov ax, cs
        mov ds, ax
        mov es, ax
	mov dx, 0

	;mov ah,00
	;mov al,10h
	;int 10h ;videmode
	;jmp printhola
init:
	mov al, 10h        ;videomode
        mov ah, 0
        int 10h            ;change videomode to 0x10 (640x350)
        mov ah,0fh
        int 10h            ;get current video page and mode
        mov byte [videopage],bh


printhola:
	mov dl, 0
        mov dh, 0
        call putcurs
	
	;mov al, 'a'
	;mov ah,eh
	;int 10h
        ;mov si, msg1

	mov si,pic
	call print
	cli
	hlt
	;jmp printhola

pic: db " 7:777.7777777,,+7777777??777777.===..777777I:.======?================          "
     db "      +77.7:II.I7777I~=:7777.==~II.,.==.==:.=~,:~==:=++????=,+++???~77          "
     db "      ..77,II::==,,,======,,====II,=++++??+?+=:,++?.???????=,???????7           "
     db "      ?:.II.77======++++++,,+++??I+????=???I~?,~..?III+:.,.I,=..?:~77           "
     db "        7777 7?+++??=?????:I+???,II.,,~I~:?IIIII=~III+:,=I77:?????.7            "
     db "             I?????????=IIIIIIIIIIIIIIIIIIIIIIIIII...,::~..7:?????~7            "
     db "             7??????????IIIII?=~=I777I77777777777~77=:::::.I,??????7            "
     db "             77+,:~????:77....,::,.,.=7777777777+~I?::::::7~.??????7            "
     db "             7  ,+?????==+..I77=,:::.:77777777777==~:~:=.77.,??????=            "
     db "               7.=??????,7?.7:~::::==7777777777777~+=~==?77~=??????.            "
     db "               7~=??????=.777?==:~:==7777777777777==???7777=???????,            "
     db "                ?=???????,?777+=+=+?7777777777777777777777~:???+???=            "
     db "               77=???????=~7777=.~,77777777777777777777777,,???+????            "
     db "                7=+???????,:777777777777777777777777777777=????=????7           "
     db "                 ==???????==,7777777777777777777777777777..????=????I           "
     db "                 ~=????????:=:77777777777777777777777777.=?????=????~           "
     db "                 ~=????????:==.77777777777I,~::7777777~===?????=????.           "
     db "                7==?????????===+~777777777777777777I.===.?????++????:           "
     db "                 =+???+?????,======~,I7777777777+,I====,??????=?????+           "
     db "               77=??????????=========.=7I+:,,=IIIII:===+??????+??????7          "
     db "               77=?????+?????~=====,77?77IIIIIIIII:77+.???+??=???????~          "
     db "                +=????+??????,====~77777~IIIIII~=777+=????=?+?????+??.I         "
     db "PatchouliOS"
